<Window x:Class="DockManager.CustomWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:chrome="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        xmlns:controls="clr-namespace:Fontendo.Controls"
        Title="DockableWindow"
        Height="450" Width="800"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="True"
        Background="Transparent" MinWidth="260" SourceInitialized="Window_SourceInitialized" Deactivated="Window_Deactivated" Activated="Window_Activated">

    <chrome:WindowChrome.WindowChrome>
        <chrome:WindowChrome
            CaptionHeight="0"
            ResizeBorderThickness="8"
            GlassFrameThickness="0"
            UseAeroCaptionButtons="False"/>
    </chrome:WindowChrome.WindowChrome>

    <!-- draw your own chrome inside -->
    <Grid x:Name="mainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="32" />
            <RowDefinition Height="100*" />
            <RowDefinition Height="32" />
        </Grid.RowDefinitions>
        <controls:CustomTitleBar x:Name="customTitleBar" Icon="/Resources/Fontendo.ico" FontSize="8" Height="32" Foreground="{DynamicResource ControlTextActive}" VerticalAlignment="Top" TargetWindow="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
        <Border Grid.Row="1" Margin="0,0,0,0"
                CornerRadius="0,0,10,10"
                Background="{DynamicResource WindowBackgroundBrushMedium}" x:Name="contentArea" Width="260">
        </Border>
        <controls:CornerGrabber x:Name="cornerIndicator" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,1,1" />
    </Grid>
</Window>
